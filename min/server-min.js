var express=require("express"),app=express(),http=require("http").Server(app),io=require("socket.io")(http);app.use(express.static("public")),http.listen(3e3,function(){console.log("listening on *:3000")}),io.on("connection",function(o){console.log("a user connected"),o.on("join-room",function(e){console.log("a user joined",e),o.join(e)}),o.on("leave-room",function(e){console.log("a user left",e),o.leave(e)}),o.on("sync",function(o){console.log("sync",o),io.to(o.room).emit("sync-down",o)}),o.on("disconnect",function(){console.log("a user disconnected")})});